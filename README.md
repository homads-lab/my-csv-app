# 統計解析アプリ（Streamlit + PostgreSQL on AppRun(β)）

## アプリ概要
AppRun(β)上にデプロイされている、表形式のデータを表示・分析できるWebアプリです。
データベースにはPostgreSQLを使用し、StreamlitでUIを構築しています。

## 目的
このアプリは、PythonとDockerを用いたWebアプリケーション開発の実践経験と、
クラウドへのデプロイ・外部データベース連携の理解を深めることを目的としています。

## 公開URL
https://app-4eda905f-a694-467a-a184-5eb87b8aa3a3.ingress.apprun.sakura.ne.jp

## 使用技術
　- Python 3.10
　- Streamlit
　- PostgreSQL 15 (Renderの無料プラン)
　- Docker / Docker Compose (開発用)
　- Render(DBホスティング)
　- AppRun(β)

## 環境構築
### 1. リポジトリをクローン
git clone https://github.com/homads-lab/my-csv-app.git
cd my-csv-app

### 2. 環境変数ファイルを作成
.env.example を参考に .env ファイルを作成

### 3. Dockerで立ち上げ（ローカル用）
docker-compose up --build

## 現在できること
- データベースまたはアップロードしたCSVファイルからデータを読み込み
- 基本統計量（平均、中央値、標準偏差など）の表示
- 欠損値の有無を自動チェック
- ヒストグラムによる変数分布の可視化
- 相関行列ヒートマップの表示（数値変数同士の関係性を視覚化）
- 散布図の描画（任意の変数を選んでプロット可能）
- すべての項目はサイドバーのチェック操作で表示・非表示を簡単に切り替え可能

## 使い方
1. ページにアクセスすると、CSVファイルをアップロードする箇所があり、ファイルを読み込むことで各種分析ができます。
2. または、画面左側のサイドバーから、データの取得元を「PostgreSQL」に変更することで、データベース内の `users` テーブルが自動的に読み込まれます。
3. データ読み込み後、サイドバーから以下の分析項目をチェックして表示／非表示を切り替えられます。
   - 基本統計量の表示
   - 欠損値チェック
   - ヒストグラムの表示
   - 相関行列ヒートマップの表示
   - 散布図（X軸・Y軸を選択可能）

## 初期データ(DBの中身)
以下の初期データがusersテーブルに含まれています：

| id | name | age | height |
|----|------|-----|--------|
| 1  | 田中 | 25  | 170.5  |
| 2  | 佐藤 | 30  | 165.2  |
| 3  | 鈴木 | 22  | 158.8  |

## 本番環境での構成(Render)
- Webアプリ：DockerfileをAppRunでビルドしデプロイ
- データベース：RenderのPostgreSQL（無料枠）
- 環境変数：AppRunの設定画面から設定

##今後の課題・展望
　- Webアプリ上でのデータベース操作機能（追加・編集・削除などのCRUD処理）
　- 各種統計的検定や機械学習モデルの推定の機能